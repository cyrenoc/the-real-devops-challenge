pipeline {

    agent any

    environment {
	PASS = credentials('registry-pass')
    }

    stages {

        stage('Build') {
            steps {
		    sh "echo hola build"
                    //sh "virtualenv -p python3 .venv"	   
		    sh "pip install tox"
                    }
		}
		stage('Test') {
            steps {
		      //sh './jenkins/test/test.sh mvn test' 
                   sh "echo hola test"
                   sh "docker run  -v pipeline/app:/tmp/app -w /tmp/app --rm painless/tox /bin/bash tox"
                  }
		}
		
        stage('Deploy') {
            steps {
       		   //sh './jenkins/deploy/deploy.sh'
                   sh "echo hola deploy"
            }
         }
    }
}

